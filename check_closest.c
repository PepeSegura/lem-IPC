#include <limits.h>
#include <stdio.h>
#include <stdlib.h>

typedef struct
{
	char	team;
	int		x;
	int		y;
	int		distance;
}			Position;

typedef struct
{
	int		distance;
	int		x;
	int		y;
}			ClosestOpponent;

int	calc_distance(Position a, int x, int y)
{
	return (abs(a.x - x) + abs(a.y - y));
}

int	main(void)
{
	const char *map[] = {
		"000000B00000000000C0B0000000000000B00000000000C0B0000000000000B00000000000C0B0000000000000B00000000000C0B0000000",
		"000000B00000000000C0B0000000000000B00000000000C0B0000000000000B00000000000C0B0000000000000B00000000000C0B0000000",
		"000000B00000000000C0B0000000000000B00000000000C0B0000000000000B00000000000C0B0000000000000B00000000000C0B0000000",
		"00A0000000B0000000000000000000A0000000B0000000000000000000A0000000B0000000000000000000A0000000B00000000000000000",
		"00A0000000B0000000000000000000A0000000B0000000000000000000A0000000B0000000000000000000A0000000B00000000000000000",
		"00A0000000B0000000000000000000A0000000B0000000000000000000A0000000B0000000000000000000A0000000B00000000000000000",
		"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
		"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
		"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
		"00000000000000000000B000000000000000000000000000B000000000000000000000000000B000000000000000000000000000B0000000",
		"00000000000000000000B000000000000000000000000000B000000000000000000000000000B000000000000000000000000000B0000000",
		"00000000000000000000B000000000000000000000000000B000000000000000000000000000B000000000000000000000000000B0000000",
		"000B00000000A000000000000000000B00000000A000000000000000000B00000000A000000000000000000B00000000A000000000000000",
		"000B00000000A000000000000000000B00000000A000000000000000000B00000000A000000000000000000B00000000A000000000000000",
		"000B00000000A000000000000000000B00000000A000000000000000000B00000000A000000000000000000B00000000A000000000000000",
		"00000000C00000000000B000000000000000C00000000000B000000000000000C00000000000B000000000000000C00000000000B0000000",
		"00000000C00000000000B000000000000000C00000000000B000000000000000C00000000000B000000000000000C00000000000B0000000",
		"00000000C00000000000B000000000000000C00000000000B000000000000000C00000000000B000000000000000C00000000000B0000000",
		"00000000000000000000B000000000000000000000000000B000000000000000000000000000B000000000000000000000000000B0000000",
		"00000000000000000000B000000000000000000000000000B000000000000000000000000000B000000000000000000000000000B0000000",
		"00000000000000000000B000000000000000000000000000B000000000000000000000000000B000000000000000000000000000B0000000",
		"00A0000000B0000000000000000000A0000000B0000000000000000000A0000000B0000000000000000000A0000000B00000000000000000",
		"00A0000000B0000000000000000000A0000000B0000000000000000000A0000000B0000000000000000000A0000000B00000000000000000",
		"00A0000000B0000000000000000000A0000000B0000000000000000000A0000000B0000000000000000000A0000000B00000000000000000",
		"00A0000000B000000000B0000C0000A0000000B000000000B0000C0000A0000000B000000000B0000C0000A0000000B000000000B0000C00",
		"00A0000000B000000000B0000C0000A0000000B000000000B0000C0000A0000000B000000000B0000C0000A0000000B000000000B0000C00",
		"00A0000000B000000000B0000C0000A0000000B000000000B0000C0000A0000000B000000000B0000C0000A0000000B000000000B0000C00",
		"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
		"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
		"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
		"0000000C000000000000B00000000000000C000000000000B00000000000000C000000000000B00000000000000C0000000I0000B0000000",
		"0000000C000000000000B00000000000000C000000000000B00000000000000C000000000000B00000000000000C000000000000B0000000",
		"0000000C000000000000B00000000000000C000000000000B00000000000000C000000000000B00000000000000C000000000000B0000000",
		"000B00000000A000000000000000000B00000000A000000000000000000B00000000A000000000000000000B00000000A000000000000000",
		"000B00000000A000000000000000000B00000000A000000000000000000B00000000A000000000000000000B00000000A000000000000000",
		"000B00000000A000000000000000000B00000000A000000000000000000B000F0A000000000000000000000B00000000A000000000000000",
		"00000000000000000000000000A00000000000F000000000000000A000000000000000000000000000A000000000000000000000000000A0",
		"00000000000000000000000000A000000000000000000000000000A000000000000000000000000000A000000000000000000000000000A0",
		"00000000000000000000000000A000000000000000000000000000A00000000000F0000000000000000A000000000000000000000000000A0",
		"000C0000000000000000B0000000000C0000000000000000B0000000000C0000000000000000B0000000000C0000000000000000B0000000",
		"000C0000000000000000B0000000000C0000000000000000B0000000000C0000000000000000B0000000000C0000000000000000B0000000",
		"000C0000000000000000B0000000000C0000000000000000B0000000000C000000000000000FB0000000000C0000000000000000B0000000",
		"00A0000000B0000000000000000000A0000000B0000000000000000000A0000000B0000000000000000000A0000000B00000000000000000",
		"00A0000000B0000000000000000000A0000000B0000000000000000000A0000000B0000000000000000000A0000000B00000000000000000",
		"00A0000000B0000000000000000000A0000000B0000000000000000000A0000000B0000000000000000000A0000000B00000000000000000",
		NULL
		};

	for (int i = 0; map[i]; i++)
	{
		printf("%s\n", map[i]);
	}

	Position teamA[10000];
	int teamACount = 0;

	for (int i = 0; map[i]; i++)
	{
		for (int j = 0; map[i][j]; j++)
		{
			if (map[i][j] == 'A')
			{
				teamA[teamACount].team = 'A';
				teamA[teamACount].x = i;
				teamA[teamACount].y = j;
				teamA[teamACount].distance = 0;
				teamACount++;
			}
		}
	}

	Position opponents[10000];
	int opponentCount = 0;

	for (int i = 0; map[i]; i++)
	{
		for (int j = 0; map[i][j]; j++)
		{
			if (map[i][j] != '0' && map[i][j] != 'A')
			{
				opponents[opponentCount].team = map[i][j];
				opponents[opponentCount].x = i;
				opponents[opponentCount].y = j;
				opponents[opponentCount].distance = 0;
				opponentCount++;
			}
		}
	}

	ClosestOpponent closestOpponent[26] = {0};
	for (int i = 0; i < 26; i++)
	{
		closestOpponent[i].distance = INT_MAX;
	}

	for (int i = 0; i < opponentCount; i++)
	{
		int total_distance = 0;
		for (int j = 0; j < teamACount; j++)
		{
			total_distance += calc_distance(teamA[j], opponents[i].x,
					opponents[i].y);
		}

		char team = opponents[i].team - 'A';
		if (total_distance < closestOpponent[team].distance)
		{
			closestOpponent[team].distance = total_distance;
			closestOpponent[team].x = opponents[i].x;
			closestOpponent[team].y = opponents[i].y;
		}
	}

	printf("Closest opponent distances and coordinates for team A:\n");
	for (int i = 0; i < 26; i++)
	{
		if (closestOpponent[i].distance != INT_MAX)
		{
			printf("Opponent Team: %c, Total Distance: %d, Coordinates: (%d,%d)\n", 'A' + i, closestOpponent[i].distance, closestOpponent[i].x, closestOpponent[i].y);
		}
	}

	return (0);
}